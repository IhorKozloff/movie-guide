{"version":3,"file":"static/js/917.c039e22c.chunk.js","mappings":"sQAMe,SAASA,IAEpB,IAAOC,GAAUC,EAAAA,EAAAA,KAAVD,OAEDE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MAAXD,QACP,GAAoCE,EAAAA,EAAAA,UAAS,MAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAoCA,OAlCAC,EAAAA,EAAAA,YAAU,WAENC,EAAAA,GAAyBN,GAASO,MAAK,SAAAC,GAAI,OAAIJ,EAAcI,QAE/D,CAACR,KA+BC,UAAC,KAAD,CAAyBS,UAAU,6BAAnC,WACI,SAAC,KAAD,CAAWC,UANnB,WAAuB,IAAD,IAClBZ,EAAQ,iBAACF,QAAD,IAACA,GAAD,UAACA,EAAUe,aAAX,aAAC,EAAiBC,YAAlB,QAA0B,MAKGC,WAAYnB,IAE5CS,IAAc,SAAC,KAAD,CAAaK,KAAML,EAAYU,WAAYnB,IACzDS,IACG,SAAC,KAAD,CACIW,eAAgBX,EAAWY,GAC3BC,mBApChB,SAA6BC,GAEzB,IAAMC,EAAqBC,KAAKC,MAAMC,aAAaC,QAAQL,IAE3D,GAA2B,OAAvBC,EAAJ,CAKA,IAAMK,EAAeL,EAAmBM,QAAO,qBAAET,KAAeZ,EAAWY,MAE3E,GAAIQ,EAAaE,SAAWP,EAAmBO,OAAQ,CAEnD,IAAMC,EAAgB,kBAAOR,GAAP,CAA2Bf,IACjDkB,aAAaM,QAAQV,EAAYE,KAAKS,UAAUF,SAIxB,IAAxBH,EAAaE,OACXJ,aAAaQ,WAAWZ,GACxBI,aAAaM,QAAQV,EAAYE,KAAKS,UAAUL,SAflDF,aAAaM,QAAQV,EAAYE,KAAKS,UAAU,CAACzB,SAkCjD,SAAC,KAAD,CAAcH,QAASA","sources":["Pages/MovieDetailPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, useLocation, useNavigate} from 'react-router-dom';\nimport * as apiService from \"API/moviesAPI\";\nimport { MovieReview, ControlBar, GoBackBtn, MovieTrailer, MovieDetailsPageWrapper } from 'components';\nimport { useThemeContext } from 'Hooks/ThemeContext';\n\nexport default function MovieDetailPage () {\n\n    const {status} = useThemeContext();\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const {movieId} = useParams();\n    const [reviewData, setReviewData] = useState(null);\n\n    useEffect(() =>  {\n    \n        apiService.searchAPIbyID(movieId).then(data => setReviewData(data));\n\n    },[movieId]);\n\n    function handleLocalStorage (storageKey) {\n        \n        const currentStorageData = JSON.parse(localStorage.getItem(storageKey));\n\n        if (currentStorageData === null) {\n            localStorage.setItem(storageKey, JSON.stringify([reviewData]));\n            return   \n        } \n\n        const filteredData = currentStorageData.filter(({id}) => id !== reviewData.id);\n\n        if (filteredData.length === currentStorageData.length) {\n\n            const newDataToStorage = [...currentStorageData, reviewData]\n            localStorage.setItem(storageKey, JSON.stringify(newDataToStorage));\n\n        } else {\n\n            filteredData.length === 0 \n            ? localStorage.removeItem(storageKey)\n            : localStorage.setItem(storageKey, JSON.stringify(filteredData))\n        }\n    };\n\n    function onBackBtn () {\n        navigate(location?.state?.from ?? '/');\n    };\n\n    return (\n        <MovieDetailsPageWrapper className='movie-details-page-wrapper'>\n            <GoBackBtn onBackBtn={onBackBtn} themeDecor={status}/>\n\n            {reviewData && <MovieReview data={reviewData} themeDecor={status}/>}\n            {reviewData && \n                <ControlBar \n                    currentMovieId={reviewData.id} \n                    handleLocalStorage={handleLocalStorage} \n                />\n            }\n            <MovieTrailer movieId={movieId}>\n\n            </MovieTrailer>\n        </MovieDetailsPageWrapper>\n            \n\n    )\n};"],"names":["MovieDetailPage","status","useThemeContext","location","useLocation","navigate","useNavigate","movieId","useParams","useState","reviewData","setReviewData","useEffect","apiService","then","data","className","onBackBtn","state","from","themeDecor","currentMovieId","id","handleLocalStorage","storageKey","currentStorageData","JSON","parse","localStorage","getItem","filteredData","filter","length","newDataToStorage","setItem","stringify","removeItem"],"sourceRoot":""}